# 学习能力模块实现任务

## 重要说明
**所有任务必须严格遵循[统一开发标准](../basic/development-guide.md)，包括：**
- 统一的状态管理接口（ModuleState & ModuleActions）
- 统一的API响应格式（APIResponse<T>）
- 统一的组件架构规范（BaseComponentProps）
- 统一的错误处理机制（ModuleError）

## 任务列表

- [ ] 1. 建立统一模块架构
  - 按照统一开发标准创建学习能力模块目录结构
  - 实现useLearningStore（继承ModuleState接口）
  - 创建统一的TypeScript类型定义和接口
  - 建立统一的错误处理和日志系统
  - _Requirements: 1.1, 2.1, 3.1_
  - _参考: [统一开发标准](../basic/development-guide.md)_

- [ ] 2. 实现数据库和题库系统
  - [ ] 2.1 创建数据库表结构
    - 实现学习能力测试会话表的创建和索引
    - 实现系统配置表的创建和数据初始化
    - 实现测试题库表的创建和索引优化
    - 编写数据库迁移脚本
    - _Requirements: 4.1_
  
  - [ ] 2.2 导入标准化题库数据
    - 导入VARK学习风格测试题库（16道题，4个维度）
    - 导入瑞文推理测试题库（60道图形推理题，5个难度等级）
    - 导入认知能力评估题库（工作记忆、注意力、处理速度、执行功能）
    
    - 准备瑞文测试的图形题目资源
    - _Requirements: 1.1, 2.1, 3.1_
  
  - [ ] 2.3 实现题库管理服务
    - 创建题库查询服务，支持按测试类型和语言查询
    - 实现题库缓存机制，提高查询性能
    - 实现瑞文测试图片资源的管理和缓存
    - 编写题库服务的单元测试
    - _Requirements: 4.1_

- [ ] 3. 实现答题数据处理系统
  - [ ] 3.1 创建答题数据结构
    - 定义用户答题数据的TypeScript接口
    - 实现答题数据验证和格式化
    - 创建AI分析输入数据结构
    - 定义瑞文测试特殊结果格式
    - _Requirements: 4.1_
  
  - [ ] 3.2 实现VARK答题数据处理
    - 创建VARK四维度得分计算算法（V/A/R/K）
    - 实现主导学习风格类型判断逻辑
    - 识别混合型学习风格用户
    - 生成学习风格答题模式描述
    - 编写VARK数据处理的单元测试
    - _Requirements: 1.1_
  
  - [ ] 3.3 实现瑞文推理测试数据处理
    - 创建瑞文测试标准计分算法
    - 实现各难度等级正确率统计
    - 计算标准分数和百分位排名
    - 实现智商估值转换算法
    - 处理测试时间和反应时间数据
    - 编写瑞文测试数据处理的单元测试
    - _Requirements: 2.1_
  
  - [ ] 3.4 实现认知能力评估数据处理
    - 创建四个认知维度的得分计算
    - 实现认知能力综合评估算法
    - 分析各维度的优势和薄弱环节
    - 生成认知能力发展建议数据
    - 编写认知能力数据处理的单元测试
    - _Requirements: 3.1_

- [ ] 4. 实现AI分析服务核心功能
  - [ ] 4.1 创建AI服务基础架构
    - 实现统一的AI调用接口
    - 配置OpenAI/Claude API集成
    - 实现AI响应解析和错误处理
    - 创建AI提示词模板管理系统
    - _Requirements: 4.1, 5.1_
  
  - [ ] 4.2 实现VARK AI分析功能
    - 创建VARK学习风格分析的专业AI提示词模板
    - 实现VARK分析API端点
    - 集成维度得分和学习偏好数据
    - 生成个性化学习策略和环境建议
    - 编写VARK AI分析结果的数据验证
    - _Requirements: 1.1_
  
  - [ ] 4.3 实现瑞文推理测试AI分析功能
    - 创建瑞文推理能力分析的专业AI提示词模板
    - 实现瑞文分析API端点
    - 集成智商估值和认知能力评估
    - 生成逻辑思维训练和发展建议
    - 编写瑞文分析结果的科学性验证
    - _Requirements: 2.1_
  
  - [ ] 4.4 实现认知能力评估AI分析功能
    - 创建认知能力综合分析的AI提示词模板
    - 实现认知能力评估API端点
    - 集成多维度认知能力数据
    - 生成针对性的认知训练建议
    - 编写认知能力分析结果的数据验证
    - _Requirements: 3.1_

- [ ] 5. 实现前端用户界面
  - [ ] 5.1 创建前端项目结构
    - 设置React + Tailwind CSS项目
    - 配置路由和状态管理（Zustand）
    - 创建教育学习主题样式
    - 集成Chart.js用于认知能力可视化
    - 实现瑞文测试的计时器组件
    - _Requirements: 1.1, 2.1, 3.1_
  
  - [ ] 5.2 实现VARK学习风格测试页面
    - 创建VARK测试题目展示组件
    - 实现16道题的多选答题界面
    - 创建VARK结果展示组件（学习风格雷达图）
    - 添加学习策略建议和环境优化指导
    - 实现学科特定的学习方法推荐
    - _Requirements: 1.1_
  
  - [ ] 5.3 实现瑞文推理测试页面
    - 创建瑞文测试图形题目展示组件
    - 实现60道题的图形推理界面
    - 添加45分钟倒计时功能和自动提交
    - 实现题目导航和答案修改功能
    - 创建瑞文结果展示组件（智商估值、能力分析）
    - 添加认知能力发展建议和训练方案
    - _Requirements: 2.1_
  
  - [ ] 5.4 实现认知能力评估页面
    - 创建认知能力测试题目展示组件
    - 实现多维度认知任务的交互界面
    - 添加反应时间记录功能
    - 创建认知能力结果展示组件（四维度分析图）
    - 添加认知训练建议和能力提升方案
    - _Requirements: 3.1_
  
  - [ ] 5.5 实现模块首页和导航
    - 创建学习能力模块首页布局
    - 实现三个测试功能的导航和介绍
    - 添加学习能力科普和测试指导
    - 创建测试历史和结果管理功能
    - _Requirements: 4.1_

- [ ] 6. 实现瑞文测试特殊功能
  - [ ] 6.1 实现图形资源管理
    - 创建瑞文测试图片的上传和存储系统
    - 实现图片资源的CDN缓存和优化
    - 添加图片加载失败的降级处理
    - 优化图片在不同设备上的显示效果
    - _Requirements: 2.1_
  
  - [ ] 6.2 实现标准分数转换系统
    - 创建瑞文测试常模数据管理
    - 实现原始分数到标准分数的转换
    - 计算百分位排名和智商估值
    - 添加年龄组别的常模对照功能
    - 编写标准分数转换的测试用例
    - _Requirements: 2.1_
  
  - [ ] 6.3 实现测试时间管理
    - 创建精确的测试计时器组件
    - 实现测试暂停和恢复功能
    - 添加时间警告和自动提交机制
    - 记录每题的反应时间数据
    - 优化计时器的性能和准确性
    - _Requirements: 2.1_

- [ ] 7. 实现缓存和性能优化
  - [ ] 7.1 实现智能缓存策略
    - 创建题库数据的长期缓存机制
    - 实现AI分析结果的缓存系统
    - 优化瑞文测试图片的缓存策略
    - 实现相同答案组合的缓存复用
    - 编写缓存性能监控和清理机制
    - _Requirements: 4.1_
  
  - [ ] 7.2 实现前端性能优化
    - 添加测试组件的懒加载
    - 优化大量题目和图片的渲染性能
    - 实现答题进度的本地存储
    - 添加网络异常的重试机制
    - 优化瑞文测试的图片预加载
    - _Requirements: 4.1_

- [ ] 8. 实现用户反馈和会话管理
  - [ ] 8.1 实现会话管理系统
    - 创建用户测试会话的跟踪和存储
    - 实现测试历史查询功能
    - 编写会话数据的隐私保护机制
    - 实现会话数据的定期清理
    - _Requirements: 5.1_
  
  - [ ] 8.2 实现用户反馈系统
    - 创建测试结果的用户反馈收集组件
    - 实现反馈数据的存储和统计
    - 编写反馈分析和质量改进报告
    - 添加用户满意度评价功能
    - _Requirements: 5.1_



- [ ] 10. 实现学习指导的实用性保证
  - [ ] 10.1 实现个性化学习建议系统
    - 创建基于测试结果的学习策略生成算法
    - 实现不同学习场景的策略调整
    - 添加学习效果的自我评估方法
    - 生成具体可操作的学习技巧
    - _Requirements: 5.1_
  
  - [ ] 10.2 实现认知训练建议系统
    - 创建针对认知薄弱维度的训练方案
    - 实现认知能力提升的进阶计划
    - 添加日常认知训练的实践指导
    - 生成长期认知发展规划
    - _Requirements: 3.1, 5.1_

- [ ] 11. 编写测试用例
  - [ ] 11.1 编写后端API测试
    - 创建所有API端点的单元测试
    - 编写AI服务集成测试
    - 实现答题数据处理的测试用例
    - 编写数据库操作和缓存的测试
    - 测试瑞文测试的标准分数转换
    - _Requirements: 1.1, 2.1, 3.1_
  
  - [ ] 11.2 编写前端组件测试
    - 创建所有React组件的单元测试
    - 编写用户答题流程的集成测试
    - 实现测试结果展示的测试用例
    
    - 测试瑞文测试的计时器功能
    - _Requirements: 1.1, 2.1, 3.1_
  
  - [ ] 11.3 编写科学性验证测试
    - 创建VARK学习风格分析的准确性测试
    - 编写瑞文测试计分算法的验证测试
    - 实现认知能力评估的可靠性测试
    - 验证AI分析结果的科学性和一致性
    - _Requirements: 4.1, 5.1_

- [ ] 12. 部署和上线准备
  - [ ] 12.1 配置生产环境
    - 设置Cloudflare Workers生产部署
    - 配置AI服务的API密钥管理
    - 实现环境变量和配置管理
    - 设置数据库的生产环境迁移
    - 配置瑞文测试图片资源的CDN
    - _Requirements: 4.1_
  
  - [ ] 12.2 实现监控和日志
    - 配置学习能力模块的性能监控
    - 实现AI服务调用的错误追踪
    - 编写用户行为分析和统计报告
    - 创建运维文档和故障处理指南
    - 监控瑞文测试的图片加载性能
    - _Requirements: 4.1_